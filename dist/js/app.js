function getselectedRestaurantname(){var e=window.location.hash.substring(1);return e}function getRestaurantJSONArray(){var e="../data/restuarant.json";return new Promise(function(t,r){var a=new XMLHttpRequest;a.open("GET",e),a.onload=function(){200==a.status?t(a.response):r(Error(a.statusText))},a.onerror=function(){r(Error("Network Error"))},a.send()})}function loadTemplateData(e){var t=$("#restuarant-template").html(),r=Handlebars.compile(t),a=r(e);$(".content-placeholder").html(a)}function saveReviews(){var e=JSON.stringify(restuarantReviews);localStorage.userreviews=e}$(document).ready(function(){function e(e){var t=$("#restuarant-template").html(),r=Handlebars.compile(t),a=r(e);$(".content-placeholder").html(a)}function t(e){var t=$("#restuarantdetail-template").html(),r=Handlebars.compile(t),a=r(e);$(".content-placeholder").append(a)}function r(e){var t=$("#restuarantreviews-template").html(),r=Handlebars.compile(t),a=r(e);$(".content-placeholder").append(a)}var a,n=new XMLHttpRequest;if("restuarantList"===$("body").data("title"))a="../data/restuarant.json",n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var t=JSON.parse(n.responseText);console.log(t),e(t)}},n.open("GET",a,!0),n.send();else if("restuarantListDetail"===$("body").data("title")){var o=window.location.hash.substring(1);a="../data/restuarantreviews.json",n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var e=JSON.parse(n.responseText);console.log(e),filteredmyArr=e.filter(function(e){return e.name==o}),t(filteredmyArr),r(filteredmyArr[0].reviews)}},n.open("GET",a,!0),n.send()}});var restuarantReviews=new Array;$("#distance input[type=radio]").change(function(){var e=Number($(this).val()),t=new Array;getRestaurantJSONArray().then(function(r){console.log("Success!",r),t=JSON.parse(r),console.log("Success!",t),filtereddistance=t.filter(function(t){return Number(t.distance)<=e&&(console.log("Inside Greater Array Value : "+t.distance+"Selected Value : "+e),!0)}),console.log("filteredArray!",filtereddistance),loadTemplateData(filtereddistance.length>0?filtereddistance:t)},function(e){console.error("Failed!",e)})}),$("#price input[type=checkbox]").change(function(){var e=new Array,t=$("#price input:checkbox:checked").map(function(){return $(this).val()}).toArray();console.log("price :"+t),getRestaurantJSONArray().then(function(r){console.log("Success!",r),e=JSON.parse(r),console.log("Success!",e),filteredprice=e.filter(function(e){for(var r=0;r<t.length;r++)if(e.price==t[r])return!0;return!1}),console.log("filteredArray!",filteredprice),loadTemplateData(filteredprice.length>0?filteredprice:e)},function(e){console.error("Failed!",e)})}),$("#cuisine input[type=checkbox]").change(function(){var e=new Array,t=$("#cuisine input:checkbox:checked").map(function(){return $(this).val()}).toArray();console.log("Cuisines :"+t),getRestaurantJSONArray().then(function(r){console.log("Success!",r),e=JSON.parse(r),console.log("Success!",e),filteredcuisine=e.filter(function(e){for(var r=0;r<t.length;r++)if(e.cuisine==t[r])return!0;return!1}),console.log("filteredArray!",filteredcuisine),loadTemplateData(filteredcuisine.length>0?filteredcuisine:e)},function(e){console.error("Failed!",e)})});var redirecttoDetailsPage=function(e){console.log(e);var t=e;console.log("id: "+t.id),window.location.href="restuarantdetail.html#"+t.name};Handlebars.registerHelper("json",function(e){return JSON.stringify(e).replace(/"/g,"&quot;")});var showReviewModal=function(){var e=(document.querySelector(".dialog-button"),document.querySelector("#dialog")),t=document.querySelector("#confirmdialog");e.querySelector("#cancelreviews").addEventListener("click",function(){e.close()}),t.querySelector("#doneconfirm").addEventListener("click",function(){t.close()}),e.showModal||dialogPolyfill.registerDialog(e),e.showModal(),e.querySelector("#postreviews").addEventListener("click",function(){var r=getselectedRestaurantname(),a=r,n=userreviews.value,o=$("#starratings input:radio:checked").map(function(){return $(this).val()}).toArray();restuarantReviews.push({key:a,reviews:n,rating:o}),saveReviews(restuarantReviews),e.close(),t.showModal||dialogPolyfill.registerDialog(t),t.showModal()})};$(".fab").click(function(){$(".mdl-layout__drawer-right").addClass("active"),$(".mdl-layout__obfuscator-right").addClass("ob-active")}),$(".mdl-layout__obfuscator-right").click(function(){$(".mdl-layout__drawer-right").removeClass("active"),$(".mdl-layout__obfuscator-right").removeClass("ob-active")}),$(".close").click(function(){$(".mdl-layout__drawer-right").removeClass("active"),$(".mdl-layout__obfuscator-right").removeClass("ob-active")}),$(".mdl-layout__obfuscator-right").click(function(){$(".mdl-layout__drawer-right").addClass("active"),$(".mdl-layout__obfuscator-right").addClass("ob-active")});